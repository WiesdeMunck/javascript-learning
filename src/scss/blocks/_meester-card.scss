@use '../abstracts' as *;

// cubic-bezier(0.76, -0.01, 0.34, 0.45)

@keyframes slide-up {
	0% {
		transform: translateY(150%);
	}
	100% {
		transform: translateY(0);
	}
}

html:has(.meester-card) {
	background-color: var(--clr-neutral--900);
}

.meester-card {
	$self: &;
	--clr-primary--400: #ed6057;
	position: relative;
	color: var(--clr-primary--400);
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 2rem;

	&__item {
		border: solid 3px var(--clr-primary--400);
		aspect-ratio: 1 / 1;
		position: relative;
		list-style-type: none;

		& #{ $self }__animation-wrapper > * {
			transform: translateY(150%);

			animation: forwards 1.25s slide-up 0.5s;
		}
		&:nth-child(n + 3) #{ $self }__animation-wrapper > * {
			animation: forwards 1.25s slide-up 0.5s;

			// This makes it come a bit later
			animation-timing-function: cubic-bezier(0.76, -0.01, 0.34, 0.45);
		}

		&:has(.meester-card__btn:hover) #{ $self }__img-wrapper {
			height: 100%;

		}

		&:has(.meester-card__btn) .meester-card__animation-wrapper-text > * {
			// important fucks it up make it so it wins in specifity without the !important
			transform: translateY(-100%) ;
		}
	}

	.meester-card__article {
		display: grid;
		grid-template-rows: 50% 50%;
		height: 100%;
	}

	&__content-wrapper {
		padding: 44px 24px 24px 24px;
		display: grid;
		grid-template-rows: auto;
		align-content: start;
		grid-row: 1 / 1;
		grid-column: 1 / 1;
	}

	&__animation-wrapper {
		height: fit-content;
		overflow: hidden;

		& > * {
			transform: translateY(0%);
			transition:  transform cubic-bezier(0.76, -0.01, 0.34, 0.45) 0.5s;
		}
	}

	&__title {
		display: block;
	}

	&__animation-wrapper:has(.meester-card__subtitle) {
		order: -1;
	}

	&__subtitle {
		overflow: hidden;
		display: block;
	}

	&__tag-list {
	}

	&__tag {
		display: block;
	}

	&__img-wrapper {
		transition:  height cubic-bezier(0.76, -0.01, 0.34, 0.45) 0.5s;
		aspect-ratio: 2/1;
		width: 100%;
		overflow: hidden;
		grid-column: 1 / 1;
		grid-row: 1 / 3;
		height: 50%;
		margin-top: auto;

	}

	&__img {
		height: 100%;
		width: 100%;
		object-fit: cover;
	}

	&__btn {
		background-color: var(--clr-primary--400);
		color: var(--clr-neutral--900);
		border: none;
		height: fit-content;
		cursor: pointer;
		grid-row: 2 / 2;
		grid-column: 1 / 1;
		z-index: 1;
		margin: auto 24px 24px 24px;

		&::after {
			content: '';
			position: absolute;
			inset: 0;
		}
	}
}
